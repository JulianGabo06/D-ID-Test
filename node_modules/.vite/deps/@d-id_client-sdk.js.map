{
  "version": 3,
  "sources": ["../../@d-id/client-sdk/dist/index.js"],
  "sourcesContent": ["var G = /* @__PURE__ */ ((e) => (e.TRIAL = \"trial\", e.BASIC = \"basic\", e.ENTERPRISE = \"enterprise\", e.LITE = \"lite\", e.ADVANCED = \"advanced\", e))(G || {}), ee = /* @__PURE__ */ ((e) => (e.TRIAL = \"deid-trial\", e.PRO = \"deid-pro\", e.ENTERPRISE = \"deid-enterprise\", e.LITE = \"deid-lite\", e.ADVANCED = \"deid-advanced\", e.BUILD = \"deid-api-build\", e.LAUNCH = \"deid-api-launch\", e.SCALE = \"deid-api-scale\", e))(ee || {}), te = /* @__PURE__ */ ((e) => (e.Unrated = \"Unrated\", e.Positive = \"Positive\", e.Negative = \"Negative\", e))(te || {}), _ = /* @__PURE__ */ ((e) => (e.Functional = \"Functional\", e.TextOnly = \"TextOnly\", e.Maintenance = \"Maintenance\", e.Playground = \"Playground\", e.DirectPlayback = \"DirectPlayback\", e))(_ || {}), b = /* @__PURE__ */ ((e) => (e.Embed = \"embed\", e.Query = \"query\", e.Partial = \"partial\", e.Answer = \"answer\", e.Complete = \"done\", e))(b || {}), ne = /* @__PURE__ */ ((e) => (e.KnowledgeProcessing = \"knowledge/processing\", e.KnowledgeIndexing = \"knowledge/indexing\", e.KnowledgeFailed = \"knowledge/error\", e.KnowledgeDone = \"knowledge/done\", e))(ne || {}), re = /* @__PURE__ */ ((e) => (e.Knowledge = \"knowledge\", e.Document = \"document\", e.Record = \"record\", e))(re || {}), ae = /* @__PURE__ */ ((e) => (e.Pdf = \"pdf\", e.Text = \"text\", e.Html = \"html\", e.Word = \"word\", e.Json = \"json\", e.Markdown = \"markdown\", e.Csv = \"csv\", e.Excel = \"excel\", e.Powerpoint = \"powerpoint\", e.Archive = \"archive\", e.Image = \"image\", e.Audio = \"audio\", e.Video = \"video\", e))(ae || {}), L = /* @__PURE__ */ ((e) => (e.Clip = \"clip\", e.Talk = \"talk\", e))(L || {}), x = /* @__PURE__ */ ((e) => (e.Start = \"START\", e.Stop = \"STOP\", e))(x || {}), U = /* @__PURE__ */ ((e) => (e.ChatAnswer = \"chat/answer\", e.ChatPartial = \"chat/partial\", e.StreamDone = \"stream/done\", e.StreamStarted = \"stream/started\", e.StreamFailed = \"stream/error\", e.StreamReady = \"stream/ready\", e.StreamCreated = \"stream/created\", e.StreamVideoCreated = \"stream-video/started\", e.StreamVideoDone = \"stream-video/done\", e.StreamVideoError = \"stream-video/error\", e.StreamVideoRejected = \"stream-video/rejected\", e))(U || {}), y = /* @__PURE__ */ ((e) => (e.New = \"new\", e.Fail = \"fail\", e.Connected = \"connected\", e.Connecting = \"connecting\", e.Closed = \"closed\", e.Completed = \"completed\", e.Disconnected = \"disconnected\", e))(y || {}), ie = /* @__PURE__ */ ((e) => (e.Amazon = \"amazon\", e.Microsoft = \"microsoft\", e.Afflorithmics = \"afflorithmics\", e.Elevenlabs = \"elevenlabs\", e))(ie || {}), se = /* @__PURE__ */ ((e) => (e.Public = \"public\", e.Premium = \"premium\", e.Private = \"private\", e))(se || {});\nconst z = \"https://api.d-id.com\", oe = \"wss://notifications.d-id.com\", ce = \"79f81a83a67430be2bc0fd61042b8faa\", F = () => Math.random().toString(16).slice(2);\nfunction J() {\n  let e = window.localStorage.getItem(\"did_external_key_id\");\n  return e || (e = Math.random().toString(16).slice(2), window.localStorage.setItem(\"did_external_key_id\", e)), e;\n}\nlet de = F();\nfunction j(e) {\n  if (e.type === \"bearer\")\n    return `Bearer ${e.token}`;\n  if (e.type === \"basic\")\n    return `Basic ${btoa(`${e.username}:${e.password}`)}`;\n  if (e.type === \"key\")\n    return `Client-Key ${e.clientKey}.${J()}_${de}`;\n  throw new Error(`Unknown auth type: ${e}`);\n}\nfunction V(e, n = z, o) {\n  const a = async (t, r) => {\n    const i = await fetch(n + (t != null && t.startsWith(\"/\") ? t : `/${t}`), {\n      ...r,\n      headers: {\n        ...r == null ? void 0 : r.headers,\n        Authorization: j(e),\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!i.ok) {\n      let s = await i.text().catch(() => \"Failed to fetch\");\n      throw o && o(new Error(s), {\n        url: t,\n        options: r,\n        headers: i.headers\n      }), new Error(s);\n    }\n    return i.json();\n  };\n  return {\n    get(t, r) {\n      return a(t, {\n        ...r,\n        method: \"GET\"\n      });\n    },\n    post(t, r, i) {\n      return a(t, {\n        ...i,\n        body: JSON.stringify(r),\n        method: \"POST\"\n      });\n    },\n    delete(t, r, i) {\n      return a(t, {\n        ...i,\n        body: JSON.stringify(r),\n        method: \"DELETE\"\n      });\n    },\n    patch(t, r, i) {\n      return a(t, {\n        ...i,\n        body: JSON.stringify(r),\n        method: \"PATCH\"\n      });\n    }\n  };\n}\nfunction X(e, n = z, o) {\n  const a = V(e, `${n}/agents`, o);\n  return {\n    create(t, r) {\n      return a.post(\"/\", t, r);\n    },\n    getAgents(t, r) {\n      return a.get(`/${t ? `?tag=${t}` : \"\"}`, r).then((i) => i ?? []);\n    },\n    getById(t, r) {\n      return a.get(`/${t}`, r);\n    },\n    delete(t, r) {\n      return a.delete(`/${t}`, void 0, r);\n    },\n    update(t, r, i) {\n      return a.patch(`/${t}`, r, i);\n    },\n    newChat(t, r) {\n      return a.post(`/${t}/chat`, void 0, r);\n    },\n    chat(t, r, i, s) {\n      return a.post(`/${t}/chat/${r}`, i, s);\n    },\n    createRating(t, r, i, s) {\n      return a.post(`/${t}/chat/${r}/ratings`, i, s);\n    },\n    updateRating(t, r, i, s, m) {\n      return a.patch(`/${t}/chat/${r}/ratings/${i}`, s, m);\n    },\n    deleteRating(t, r, i, s) {\n      return a.delete(`/${t}/chat/${r}/ratings/${i}`, s);\n    }\n  };\n}\nconst le = (e) => new Promise((n) => setTimeout(n, e));\nfunction me(e) {\n  return new Promise((n, o) => {\n    const {\n      callbacks: a,\n      host: t,\n      auth: r\n    } = e, {\n      onMessage: i = null,\n      onOpen: s = null,\n      onClose: m = null,\n      onError: d = null\n    } = a || {}, l = new WebSocket(`${t}?authorization=${j(r)}`);\n    l.onmessage = i, l.onclose = m, l.onerror = (v) => {\n      console.error(v), d == null || d(\"Websocket failed to connect\", v), o(v);\n    }, l.onopen = (v) => {\n      s == null || s(v), n(l);\n    };\n  });\n}\nasync function ge(e) {\n  const {\n    retries: n = 1\n  } = e;\n  let o = null;\n  for (let a = 0; (o == null ? void 0 : o.readyState) !== WebSocket.OPEN; a++)\n    try {\n      o = await me(e);\n    } catch (t) {\n      if (a === n)\n        throw t;\n      await le(a * 500);\n    }\n  return o;\n}\nasync function ue(e, n, o) {\n  const a = o != null && o.onMessage ? [o.onMessage] : [], t = await ge({\n    auth: e,\n    host: n,\n    callbacks: {\n      onError: o == null ? void 0 : o.onError,\n      onMessage: (r) => {\n        const i = JSON.parse(r.data);\n        a.forEach((s) => s(i.event, i));\n      }\n    }\n  });\n  return {\n    socket: t,\n    disconnect: () => t.close(),\n    subscribeToEvents: (r) => a.push(r)\n  };\n}\nconst we = \"X-Playground-Chat\";\nfunction he(e, n, o, a) {\n  const t = V(e, `${n}/agents/${o}`, a);\n  return {\n    createStream(r) {\n      return t.post(\"/streams\", {\n        compatibility_mode: r.compatibility_mode,\n        stream_warmup: r.stream_warmup,\n        session_timeout: r.session_timeout\n      });\n    },\n    startConnection(r, i, s) {\n      return t.post(`/streams/${r}/sdp`, {\n        session_id: s,\n        answer: i\n      });\n    },\n    addIceCandidate(r, i, s) {\n      return t.post(`/streams/${r}/ice`, {\n        session_id: s,\n        ...i\n      });\n    },\n    sendStreamRequest(r, i, s) {\n      return t.post(`/streams/${r}`, {\n        session_id: i,\n        ...s\n      });\n    },\n    close(r, i) {\n      return t.delete(`/streams/${r}`, {\n        session_id: i\n      });\n    }\n  };\n}\nfunction fe(e, n, o, a) {\n  const t = V(e, `${n}/agents/${o}`, a);\n  return {\n    createStream(r, i) {\n      return t.post(\"/streams\", {\n        driver_url: r.driver_url,\n        face: r.face,\n        config: r.config,\n        compatibility_mode: r.compatibility_mode,\n        stream_warmup: r.stream_warmup,\n        output_resolution: r.output_resolution,\n        session_timeout: r.session_timeout\n      }, i);\n    },\n    startConnection(r, i, s, m) {\n      return t.post(`/streams/${r}/sdp`, {\n        session_id: s,\n        answer: i\n      }, m);\n    },\n    addIceCandidate(r, i, s, m) {\n      return t.post(`/streams/${r}/ice`, {\n        session_id: s,\n        ...i\n      }, m);\n    },\n    sendStreamRequest(r, i, s, m) {\n      return t.post(`/streams/${r}`, {\n        session_id: i,\n        ...s\n      }, m);\n    },\n    close(r, i, s) {\n      return t.delete(`/streams/${r}`, {\n        session_id: i\n      }, s);\n    }\n  };\n}\nlet Y = !1;\nconst A = (e, n) => Y && console.log(e, n), pe = (window.RTCPeerConnection || window.webkitRTCPeerConnection || window.mozRTCPeerConnection).bind(window);\nfunction H(e) {\n  switch (e) {\n    case \"connected\":\n      return y.Connected;\n    case \"checking\":\n      return y.Connecting;\n    case \"failed\":\n      return y.Fail;\n    case \"new\":\n      return y.New;\n    case \"closed\":\n      return y.Closed;\n    case \"disconnected\":\n      return y.Disconnected;\n    case \"completed\":\n      return y.Completed;\n    default:\n      return y.New;\n  }\n}\nfunction ve() {\n  let e = 0;\n  return (n) => {\n    for (const o of n.values())\n      if (o && o.type === \"inbound-rtp\" && o.kind === \"video\") {\n        const a = o.bytesReceived, t = a - e > 0;\n        return e = a, t;\n      }\n    return !1;\n  };\n}\nfunction ye(e, n) {\n  const a = Math.max(Math.ceil(10), 1);\n  let t = 0, r = !1;\n  const i = ve();\n  return setInterval(async () => {\n    const s = await e.getStats();\n    i(s) ? (t = 0, r || (n == null || n(x.Start), r = !0)) : r && (t++, t >= a && (n == null || n(x.Stop), r = !1));\n  }, 100);\n}\nasync function Ce(e, n, {\n  debug: o = !1,\n  callbacks: a,\n  auth: t,\n  baseURL: r = z,\n  warmup: i\n}) {\n  Y = o;\n  let s;\n  const {\n    startConnection: m,\n    sendStreamRequest: d,\n    close: l,\n    createStream: v,\n    addIceCandidate: E\n  } = n.videoType === L.Clip ? he(t, r, e, a.onError) : fe(t, r, e, a.onError), {\n    id: M,\n    offer: O,\n    ice_servers: K,\n    session_id: I\n  } = await v(n), p = new pe({\n    iceServers: K\n  }), c = p.createDataChannel(\"JanusDataChannel\");\n  if (!I)\n    throw new Error(\"Could not create session_id\");\n  const w = ye(p, a.onVideoStateChange);\n  p.onicecandidate = (g) => {\n    A(\"peerConnection.onicecandidate\", g), g.candidate && g.candidate.sdpMid && g.candidate.sdpMLineIndex !== null ? E(M, {\n      candidate: g.candidate.candidate,\n      sdpMid: g.candidate.sdpMid,\n      sdpMLineIndex: g.candidate.sdpMLineIndex\n    }, I) : E(M, {\n      candidate: null\n    }, I);\n  }, p.oniceconnectionstatechange = () => {\n    var u;\n    A(\"peerConnection.oniceconnectionstatechange => \" + p.iceConnectionState);\n    const g = H(p.iceConnectionState);\n    g === y.Connected ? s = setTimeout(() => {\n      var f;\n      return (f = a.onConnectionStateChange) == null ? void 0 : f.call(a, y.Connected);\n    }, i ? 5e3 : 0) : (clearTimeout(s), (u = a.onConnectionStateChange) == null || u.call(a, g));\n  }, p.ontrack = (g) => {\n    var u;\n    A(\"peerConnection.ontrack\", g), (u = a.onSrcObjectReady) == null || u.call(a, g.streams[0]);\n  }, c.onmessage = (g) => {\n    var u;\n    if (c.readyState === \"open\") {\n      const [f, C] = g.data.split(\":\");\n      f === U.StreamReady && (clearTimeout(s), (u = a.onConnectionStateChange) == null || u.call(a, y.Connected));\n    }\n  }, await p.setRemoteDescription(O), A(\"set remote description OK\");\n  const h = await p.createAnswer();\n  return A(\"create answer OK\"), await p.setLocalDescription(h), A(\"set local description OK\"), await m(M, h, I), A(\"start connection OK\"), {\n    /**\n     * Method to send request to server to get clip or talk depend on you payload\n     * @param payload\n     */\n    speak(g) {\n      return d(M, I, g);\n    },\n    /**\n     * Method to close RTC connection\n     */\n    async disconnect() {\n      var g, u;\n      if (M) {\n        const f = H(p.iceConnectionState);\n        if (p) {\n          if (f === y.New) {\n            (g = a.onVideoStateChange) == null || g.call(a, x.Stop), clearInterval(w);\n            return;\n          }\n          p.close(), p.oniceconnectionstatechange = null, p.onnegotiationneeded = null, p.onicecandidate = null, p.ontrack = null;\n        }\n        try {\n          f === y.Connected && await l(M, I).catch((C) => {\n          });\n        } catch (C) {\n          A(\"Error on close stream connection\", C);\n        }\n        (u = a.onVideoStateChange) == null || u.call(a, x.Stop), clearInterval(w);\n      }\n    },\n    /**\n     * Session identifier information, should be returned in the body of all streaming requests\n     */\n    sessionId: I,\n    /**\n     * Id of current RTC stream\n     */\n    streamId: M\n  };\n}\nlet W = {};\nfunction Se(e) {\n  const n = window != null && window.hasOwnProperty(\"DID_AGENTS_API\") ? \"agents-ui\" : \"agents-sdk\", o = {\n    token: e.token || \"testKey\",\n    distinct_id: e.distinctId || J(),\n    agentId: e.agent.id,\n    agentType: e.agent.presenter.type,\n    owner_id: e.agent.owner_id ?? \"\"\n  };\n  return {\n    ...o,\n    isEnabled: e.isEnabled ?? !0,\n    getRandom: () => Math.random().toString(16).slice(2),\n    track(a, t) {\n      if (!this.isEnabled)\n        return Promise.reject(\"MixPanel analytics is disabled on creation\");\n      const {\n        audioPath: r,\n        ...i\n      } = t || {}, s = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: new URLSearchParams({\n          data: JSON.stringify([{\n            event: a,\n            properties: {\n              ...i,\n              ...o,\n              source: n,\n              time: Date.now(),\n              $insert_id: this.getRandom(),\n              origin: window.location.href,\n              \"Screen Height\": window.screen.height || window.innerWidth,\n              \"Screen Width\": window.screen.width || window.innerHeight,\n              \"User Agent\": navigator.userAgent\n            }\n          }])\n        })\n      };\n      return fetch(\"https://api-js.mixpanel.com/track/?verbose=1&ip=1\", s).then((m) => m.json()).catch((m) => console.error(m));\n    },\n    linkTrack(a, t, r, i) {\n      W[a] || (W[a] = {\n        events: {},\n        resolvedDependencies: []\n      }), i.includes(r) || i.push(r);\n      const s = W[a];\n      if (s.events[r] = {\n        props: t\n      }, s.resolvedDependencies.push(r), i.every((d) => s.resolvedDependencies.includes(d))) {\n        const d = i.reduce((l, v) => s.events[v] ? {\n          ...l,\n          ...s.events[v].props\n        } : l, {});\n        this.track(a, d), s.resolvedDependencies = s.resolvedDependencies.filter((l) => !i.includes(l)), i.forEach((l) => {\n          delete s.events[l];\n        });\n      }\n    }\n  };\n}\nfunction Me(e) {\n  var a, t, r, i, s;\n  const n = () => /Mobi|Android/i.test(navigator.userAgent) ? \"Mobile\" : \"Desktop\";\n  return {\n    $os: `${(() => {\n      const m = navigator.platform;\n      return m.toLowerCase().includes(\"win\") ? \"Windows\" : m.toLowerCase().includes(\"mac\") ? \"Mac OS X\" : m.toLowerCase().includes(\"linux\") ? \"Linux\" : \"Unknown\";\n    })()}`,\n    isMobile: `${n() == \"Mobile\"}`,\n    browser: navigator.userAgent,\n    origin: window.location.origin,\n    agentType: (a = e.presenter) == null ? void 0 : a.type,\n    agentVoice: {\n      voiceId: (r = (t = e.presenter) == null ? void 0 : t.voice) == null ? void 0 : r.voice_id,\n      provider: (s = (i = e.presenter) == null ? void 0 : i.voice) == null ? void 0 : s.type\n    }\n  };\n}\nfunction _e(e, n, o) {\n  var d, l;\n  const {\n    event: a,\n    ...t\n  } = e, {\n    template: r\n  } = (n == null ? void 0 : n.llm) || {}, {\n    language: i\n  } = ((d = n == null ? void 0 : n.presenter) == null ? void 0 : d.voice) || {}, {\n    stitch: s\n  } = (n == null ? void 0 : n.presenter) || {};\n  return {\n    ...t,\n    llm: {\n      ...t.llm,\n      template: r\n    },\n    script: {\n      ...t.script,\n      provider: {\n        ...(l = t == null ? void 0 : t.script) == null ? void 0 : l.provider,\n        language: i\n      }\n    },\n    stitch: s,\n    ...o\n  };\n}\nlet P = 0;\nfunction ke(e, n) {\n  var o, a, t, r, i, s, m;\n  return e.presenter.type === L.Clip ? {\n    videoType: L.Clip,\n    session_timeout: (o = n == null ? void 0 : n.streamOptions) == null ? void 0 : o.sessionTimeout,\n    stream_warmup: (a = n == null ? void 0 : n.streamOptions) == null ? void 0 : a.streamWarmup,\n    compatibility_mode: (t = n == null ? void 0 : n.streamOptions) == null ? void 0 : t.compatibilityMode\n  } : {\n    videoType: L.Talk,\n    session_timeout: (r = n == null ? void 0 : n.streamOptions) == null ? void 0 : r.sessionTimeout,\n    stream_warmup: (i = n == null ? void 0 : n.streamOptions) == null ? void 0 : i.streamWarmup,\n    compatibility_mode: (s = n == null ? void 0 : n.streamOptions) == null ? void 0 : s.compatibilityMode,\n    output_resolution: (m = n == null ? void 0 : n.streamOptions) == null ? void 0 : m.outputResolution\n  };\n}\nfunction Z(e) {\n  return e === _.Playground ? {\n    headers: {\n      [we]: \"true\"\n    }\n  } : {};\n}\nasync function Q(e, n, o, a) {\n  try {\n    const t = await n.newChat(e, Z(a));\n    return o.track(\"agent-chat\", {\n      event: \"created\",\n      chat_id: t.id,\n      agent_id: e,\n      mode: a\n    }), t;\n  } catch (t) {\n    try {\n      console.error(t);\n      const r = JSON.parse(t.message);\n      if ((r == null ? void 0 : r.kind) === \"InsufficientCreditsError\")\n        throw new Error(\"InsufficientCreditsError\");\n    } catch (r) {\n      console.error(\"Error parsing the error message:\", r);\n    }\n    throw new Error(\"Cannot create new chat\");\n  }\n}\nfunction Ie(e, n, o, a, t) {\n  return new Promise(async (r, i) => {\n    var m;\n    P = 0;\n    const s = await Ce(e.id, ke(e, n), {\n      ...n,\n      analytics: a,\n      warmup: (m = n.streamOptions) == null ? void 0 : m.streamWarmup,\n      callbacks: {\n        ...n.callbacks,\n        onConnectionStateChange: async (d) => {\n          var l, v;\n          d === y.Connected && (!t && n.mode !== _.DirectPlayback && (t = await Q(e.id, o, a, n.mode).catch((E) => {\n            i(E);\n          })), s ? r({\n            chat: t,\n            streamingManager: s\n          }) : t && i(new Error(\"Something went wrong while initializing the manager\"))), (v = (l = n.callbacks).onConnectionStateChange) == null || v.call(l, d);\n        },\n        onVideoStateChange(d) {\n          var l, v;\n          (v = (l = n.callbacks).onVideoStateChange) == null || v.call(l, d), P > 0 && d === x.Start && a.linkTrack(\"agent-video\", {\n            event: \"start\",\n            latency: Date.now() - P\n          }, \"start\", [U.StreamVideoCreated]);\n        }\n      }\n    }).catch(i);\n  });\n}\nfunction q(e) {\n  let n = \"\";\n  if (e.greetings && e.greetings.length > 0) {\n    const o = Math.floor(Math.random() * e.greetings.length);\n    n = e.greetings[o];\n  } else\n    n = `Hi! I'm ${e.preview_name || \"My Agent\"}. How can I help you?`;\n  return [{\n    content: n,\n    id: F(),\n    role: \"assistant\",\n    created_at: (/* @__PURE__ */ new Date()).toISOString()\n  }];\n}\nfunction Re(e) {\n  if (e.answer !== void 0)\n    return e.answer;\n  let n = 0, o = \"\";\n  for (; n in e; )\n    o += e[n], n++;\n  return o;\n}\nfunction Ee(e, n, o, a, t) {\n  if (!(e === b.Partial || e === b.Answer))\n    return;\n  const r = a.messages[a.messages.length - 1];\n  if ((r == null ? void 0 : r.role) !== \"assistant\")\n    return;\n  const {\n    content: i,\n    sequence: s\n  } = n;\n  e === b.Partial ? o[s] = i : o.answer = i;\n  const m = Re(o);\n  (r.content !== m || e === b.Answer) && (r.content = m, t == null || t([...a.messages], e));\n}\nasync function Ae(e, n) {\n  var K, I, p;\n  let o = {}, a = !0;\n  const t = {\n    messages: [],\n    chatMode: n.mode || _.Functional\n  }, r = n.baseURL || z, i = n.wsURL || oe, s = n.mixpanelKey || ce, m = X(n.auth, r, n.callbacks.onError), d = await m.getById(e);\n  t.messages = q(d), (I = (K = n.callbacks).onNewMessage) == null || I.call(K, [...t.messages], \"answer\");\n  const l = Se({\n    token: s,\n    agent: d,\n    ...n\n  });\n  l.track(\"agent-sdk\", {\n    event: \"loaded\",\n    ...Me(d)\n  });\n  const v = {\n    onMessage: (c, w) => {\n      var h, g;\n      if (\"content\" in w)\n        Ee(c, w, o, t, n.callbacks.onNewMessage), c === b.Answer && l.track(\"agent-message-received\", {\n          messages: t.messages.length,\n          mode: t.chatMode\n        });\n      else {\n        const u = U, f = [u.StreamVideoDone, u.StreamVideoError, u.StreamVideoRejected], C = [u.StreamFailed, u.StreamVideoError, u.StreamVideoRejected], k = _e(w, d, {\n          mode: t.chatMode\n        });\n        if (c = c, c === u.StreamVideoCreated)\n          l.linkTrack(\"agent-video\", k, u.StreamVideoCreated, [\"start\"]);\n        else if (f.includes(c)) {\n          const S = c.split(\"/\")[1];\n          l.track(\"agent-video\", {\n            ...k,\n            event: S\n          });\n        }\n        C.includes(c) && ((g = (h = n.callbacks).onError) == null || g.call(h, new Error(`Stream failed with event ${c}`), {\n          data: w\n        })), w.event === u.StreamDone && M();\n      }\n    }\n  };\n  async function E(c) {\n    var C, k, S, R, T;\n    P = 0, c && !a && (delete t.chat, t.messages = q(d), (k = (C = n.callbacks).onNewMessage) == null || k.call(C, [...t.messages], \"answer\"));\n    const w = n.mode === _.DirectPlayback ? Promise.resolve(void 0) : ue(n.auth, i, v), h = Ie(d, n, m, l, t.chat).catch(($) => {\n      throw O(_.Maintenance), $;\n    }), [g, {\n      streamingManager: u,\n      chat: f\n    }] = await Promise.all([w, h]);\n    f && f.id !== ((S = t.chat) == null ? void 0 : S.id) && ((T = (R = n.callbacks).onNewChat) == null || T.call(R, f.id)), t.streamingManager = u, t.socketManager = g, t.chat = f, a = !1, O((f == null ? void 0 : f.chat_mode) ?? n.mode ?? _.Functional);\n  }\n  async function M() {\n    var c, w, h, g;\n    (c = t.socketManager) == null || c.disconnect(), await ((w = t.streamingManager) == null ? void 0 : w.disconnect()), delete t.streamingManager, delete t.socketManager, (g = (h = n.callbacks).onConnectionStateChange) == null || g.call(h, y.Disconnected);\n  }\n  async function O(c) {\n    var w, h;\n    c !== t.chatMode && (l.track(\"agent-mode-change\", {\n      mode: c\n    }), t.chatMode = c, t.chatMode !== _.Functional && await M(), (h = (w = n.callbacks).onModeChange) == null || h.call(w, c));\n  }\n  return {\n    agent: d,\n    starterMessages: ((p = d.knowledge) == null ? void 0 : p.starter_message) || [],\n    changeMode: O,\n    async connect() {\n      var c;\n      await E(!0), l.track(\"agent-chat\", {\n        event: \"connect\",\n        chatId: (c = t.chat) == null ? void 0 : c.id,\n        agentId: d.id,\n        mode: t.chatMode\n      });\n    },\n    async reconnect() {\n      var c;\n      await M(), await E(!1), l.track(\"agent-chat\", {\n        event: \"reconnect\",\n        chatId: (c = t.chat) == null ? void 0 : c.id,\n        agentId: d.id,\n        mode: t.chatMode\n      });\n    },\n    async disconnect() {\n      var c;\n      await M(), l.track(\"agent-chat\", {\n        event: \"disconnect\",\n        chatId: (c = t.chat) == null ? void 0 : c.id,\n        agentId: d.id,\n        mode: t.chatMode\n      });\n    },\n    async chat(c) {\n      var h, g, u, f, C, k;\n      const w = F();\n      o = {};\n      try {\n        if (P = Date.now(), n.mode === _.DirectPlayback)\n          throw new Error(\"Direct playback is enabled, chat is disabled\");\n        if (c.length >= 800)\n          throw new Error(\"Message cannot be more than 800 characters\");\n        if (c.length === 0)\n          throw new Error(\"Message cannot be empty\");\n        if (t.chatMode === _.Maintenance)\n          throw new Error(\"Chat is in maintenance mode\");\n        if (![_.TextOnly, _.Playground].includes(t.chatMode))\n          if (t.streamingManager) {\n            if (!t.chat)\n              throw new Error(\"Chat is not initialized\");\n          } else\n            throw new Error(\"Streaming manager is not initialized\");\n        t.messages.push({\n          id: F(),\n          role: \"user\",\n          content: c,\n          created_at: new Date(P).toISOString()\n        }), (g = (h = n.callbacks).onNewMessage) == null || g.call(h, [...t.messages], \"user\"), t.chat || (t.chat = await Q(d.id, m, l, t.chatMode), (f = (u = n.callbacks).onNewChat) == null || f.call(u, t.chat.id));\n        const S = {\n          id: w,\n          role: \"assistant\",\n          content: \"\",\n          created_at: (/* @__PURE__ */ new Date()).toISOString(),\n          matches: []\n        }, R = [...t.messages];\n        t.messages.push(S);\n        const T = (D) => {\n          var N, B;\n          return m.chat(d.id, D, {\n            sessionId: (N = t.streamingManager) == null ? void 0 : N.sessionId,\n            streamId: (B = t.streamingManager) == null ? void 0 : B.streamId,\n            chatMode: t.chatMode,\n            messages: R\n          }, Z(t.chatMode));\n        }, $ = await T(t.chat.id).catch(async (D) => {\n          var N;\n          if (!((N = D == null ? void 0 : D.message) != null && N.includes(\"missing or invalid session_id\")))\n            throw D;\n          return await M(), await E(!1), T(t.chat.id);\n        });\n        return l.track(\"agent-message-send\", {\n          event: \"success\",\n          mode: t.chatMode,\n          messages: t.messages.length + 1\n        }), S.context = $.context, S.matches = $.matches, $.result && (S.content = $.result, l.track(\"agent-message-received\", {\n          latency: Date.now() - P,\n          mode: t.chatMode,\n          messages: t.messages.length\n        }), (k = (C = n.callbacks).onNewMessage) == null || k.call(C, [...t.messages], \"answer\")), $;\n      } catch (S) {\n        throw t.messages[t.messages.length - 1].id === w && t.messages.pop(), l.track(\"agent-message-send\", {\n          event: \"error\",\n          mode: t.chatMode,\n          messages: t.messages.length\n        }), S;\n      }\n    },\n    rate(c, w, h) {\n      var f, C, k, S;\n      const g = t.messages.find((R) => R.id === c);\n      if (t.chat) {\n        if (!g)\n          throw new Error(\"Message not found\");\n      } else\n        throw new Error(\"Chat is not initialized\");\n      const u = ((f = g.matches) == null ? void 0 : f.map((R) => [R.document_id, R.id])) ?? [];\n      return l.track(\"agent-rate\", {\n        event: h ? \"update\" : \"create\",\n        thumb: w === 1 ? \"up\" : \"down\",\n        knowledge_id: ((C = d.knowledge) == null ? void 0 : C.id) ?? \"\",\n        mode: t.chatMode,\n        matches: u,\n        score: w\n      }), h ? m.updateRating(d.id, t.chat.id, h, {\n        knowledge_id: ((k = d.knowledge) == null ? void 0 : k.id) ?? \"\",\n        message_id: c,\n        matches: u,\n        score: w\n      }) : m.createRating(d.id, t.chat.id, {\n        knowledge_id: ((S = d.knowledge) == null ? void 0 : S.id) ?? \"\",\n        message_id: c,\n        matches: u,\n        score: w\n      });\n    },\n    deleteRate(c) {\n      var w;\n      if (!t.chat)\n        throw new Error(\"Chat is not initialized\");\n      return l.track(\"agent-rate-delete\", {\n        type: \"text\",\n        chat_id: (w = t.chat) == null ? void 0 : w.id,\n        id: c,\n        mode: t.chatMode\n      }), m.deleteRating(d.id, t.chat.id, c);\n    },\n    speak(c) {\n      if (!t.streamingManager)\n        throw new Error(\"Please connect to the agent first\");\n      function w() {\n        if (typeof c == \"string\") {\n          if (!d.presenter.voice)\n            throw new Error(\"Presenter voice is not initialized\");\n          return {\n            type: \"text\",\n            provider: d.presenter.voice,\n            input: c,\n            ssml: !1\n          };\n        }\n        if (c.type === \"text\" && !c.provider) {\n          if (!d.presenter.voice)\n            throw new Error(\"Presenter voice is not initialized\");\n          return {\n            type: \"text\",\n            provider: d.presenter.voice,\n            input: c.input,\n            ssml: c.ssml\n          };\n        }\n        return c;\n      }\n      const h = w();\n      return l.track(\"agent-speak\", h), t.streamingManager.speak({\n        script: h\n      });\n    }\n  };\n}\nfunction $e(e, n, o) {\n  const {\n    getById: a\n  } = X(n, o || z);\n  return a(e);\n}\nexport {\n  _ as ChatMode,\n  b as ChatProgress,\n  y as ConnectionState,\n  ae as DocumentType,\n  re as KnowledgeType,\n  ee as PlanGroup,\n  ie as Providers,\n  te as RateState,\n  U as StreamEvents,\n  x as StreamingState,\n  ne as Subject,\n  G as UserPlan,\n  L as VideoType,\n  se as VoiceAccess,\n  Ae as createAgentManager,\n  $e as getAgent\n};\n"],
  "mappings": "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",
  "names": []
}
